function Formodel(t,e,o){this.modal=t,this.model=e,this.attributes=o,this.currentElement=void 0}Formodel.templates={loading:'<i class="fa fa-spinner faa-spin animated"></i>',success:'<i class="fa fa-eye"></i>',error:'<i class="fa fa-exclamation-triangle"></i>'},Formodel.prototype.getModal=function(){return $("#"+this.modal)},Formodel.prototype.getAttributes=function(){return this.attributes},Formodel.prototype.getUrl=function(t){return"/"+this.model+"/"+(t||"")},Formodel.prototype.getCurrentElement=function(){return $(this.currentElement)},Formodel.prototype.setId=function(t){var e=this.getModal(),o=e.find("form");e.find('input[name="record_id"]').val(t),t>-1?o.attr("action",o.attr("action")+t):o.attr("action",o.attr("data-baseurl"))},Formodel.prototype.fill=function(t){var e=this.getModal(),o=(e.find(".modal-header"),e.find(".modal-body")),r=void 0!==t;this.setId(r?t.id:-1),$.each(this.attributes,function(e,n){if("checkbox"!=n&&"radio"!=n){var i=r?t[e]:"",a=n+'[name="'+e+'"]';""==i&&"select"==n&&(i=$(a).find("option:first").val()),o.find(a).val(i),o.find(a).change()}else{var a='input[type="'+n+'"][name="'+e+'"]';o.find(a).bootstrapToggle(void 0!==t&&1==t[e]?"on":"off")}}),e.modal()},Formodel.prototype.get=function(t,e){var o=this;this.currentElement=t,$.ajax({url:o.getUrl(e),type:"GET",success:function(t){o.handleSuccess(o,t)},error:function(t){o.handleError(o,t)},beforeSend:function(){o.handleBeforeSend(o)}})},Formodel.prototype.handleSuccess=function(t,e){t.getCurrentElement().html(Formodel.templates.success),t.fill(e)},Formodel.prototype.handleError=function(t,e){t.getCurrentElement().html(Formodel.templates.error)},Formodel.prototype.handleBeforeSend=function(t){t.getCurrentElement().html(Formodel.templates.loading)};